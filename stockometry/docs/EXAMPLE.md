# Stockometry JSON Output Guide - v3

## Overview
This document describes the JSON output structure generated by Stockometry's two-stage analysis system.

## Two-Stage Analysis Logic
1. **Historical Trend Analysis** (Last 6 days): Identifies sectors with consistent positive/negative sentiment trends
2. **Today's Impact Analysis**: Evaluates today's high-impact news events and their sector implications

## 11-Sector Coverage
The system analyzes these market sectors:
- **Technology**: AAPL, MSFT, GOOGL, NVDA, TSLA, META, AMZN, CRM, ADBE, ORCL
- **Healthcare**: JNJ, PFE, UNH, ABBV, TMO, DHR, ABT, CVS, CI, BMY
- **Financial Services**: JPM, BAC, WFC, GS, MS, C, AXP, BLK, SPGI, CB
- **Consumer Discretionary**: AMZN, TSLA, HD, MCD, SBUX, NKE, TJX, LOW, BKNG, MAR
- **Consumer Staples**: PG, KO, PEP, WMT, COST, PM, MO, KMB, CL, GIS
- **Energy**: XOM, CVX, COP, EOG, SLB, OXY, VLO, MPC, PSX, DVN
- **Industrials**: BA, CAT, UNP, UPS, RTX, LMT, DE, GE, HON, ETN
- **Materials**: LIN, APD, FCX, NEM, DOW, DD, BLL, NUE, VMC, ALB
- **Real Estate**: PLD, AMT, EQIX, CCI, PSA, SPG, O, VICI, WELL, EQR
- **Communication Services**: GOOGL, META, NFLX, DIS, CMCSA, T, VZ, CHTR, TMUS, FOX
- **Utilities**: NEE, DUK, SO, D, AEP, XEL, SRE, WEC, ETR, AEE

## Signal Types & Criteria

### Bullish Signals
- **Strong Buy**: Historical trend score > 0.6 AND today's impact score > 0.7
- **Buy**: Historical trend score > 0.4 AND today's impact score > 0.5
- **Weak Buy**: Historical trend score > 0.2 AND today's impact score > 0.3

### Bearish Signals
- **Strong Sell**: Historical trend score < -0.6 AND today's impact score < -0.7
- **Sell**: Historical trend score < -0.4 AND today's impact score < -0.5
- **Weak Sell**: Historical trend score < -0.2 AND today's impact score < -0.3

### Neutral Signals
- **Hold**: Scores between -0.2 and 0.2, or mixed signals
- **Wait**: Insufficient data or conflicting signals

## JSON Structure

```json
{
  "report_id": 123,
  "report_date": "2024-01-15",
  "run_source": "ONDEMAND",
  "generated_at_utc": "2024-01-15T14:30:00Z",
  "executive_summary": "Market analysis shows strong bullish signals for Technology sector...",
  "analysis_date": "2024-01-15",
  "historical_analysis": {
    "analysis_period": "6 days",
    "sector_trends": {
      "Technology": {
        "trend_score": 0.75,
        "confidence": "HIGH",
        "trend_direction": "BULLISH",
        "key_entities": ["AAPL", "MSFT", "NVDA"],
        "trend_summary": "Consistent positive sentiment over 6 days"
      }
    },
    "overall_market_sentiment": "BULLISH",
    "confidence_level": "HIGH"
  },
  "todays_analysis": {
    "high_impact_events": [
      {
        "event_type": "EARNINGS_ANNOUNCEMENT",
        "impact_score": 0.8,
        "affected_sectors": ["Technology"],
        "entities": ["AAPL"],
        "summary": "Apple reports strong Q4 earnings"
      }
    ],
    "sector_impact_scores": {
      "Technology": 0.85
    },
    "overall_impact": "BULLISH"
  },
  "synthesis": {
    "final_signals": [
      {
        "sector": "Technology",
        "signal_type": "STRONG_BUY",
        "confidence": 0.9,
        "reasoning": "Strong historical trend (0.75) + High today impact (0.85)",
        "recommended_actions": ["Monitor AAPL", "Consider tech ETFs"],
        "risk_level": "MEDIUM"
      }
    ],
    "market_outlook": "BULLISH",
    "key_insights": ["Tech sector momentum continues", "Earnings season positive"],
    "next_analysis": "2024-01-16T02:30:00Z"
  },
  "metadata": {
    "data_sources": ["NewsAPI", "Yahoo Finance"],
    "analysis_version": "3.0",
    "nlp_models": ["spaCy", "FinBERT"],
    "last_updated": "2024-01-15T14:30:00Z"
  }
}
```

## Signal Interpretation Guide

### Strong Buy/Sell Signals
- **Action**: Immediate attention required
- **Confidence**: High (0.8-1.0)
- **Risk**: Medium-High
- **Timing**: Act within 24-48 hours

### Buy/Sell Signals
- **Action**: Consider position changes
- **Confidence**: Medium (0.6-0.8)
- **Risk**: Medium
- **Timing**: Act within 1-3 days

### Weak Buy/Sell Signals
- **Action**: Monitor closely
- **Confidence**: Low-Medium (0.4-0.6)
- **Risk**: Low-Medium
- **Timing**: Wait for confirmation

### Hold/Wait Signals
- **Action**: Maintain current positions
- **Confidence**: Low (0.0-0.4)
- **Risk**: Low
- **Timing**: Re-evaluate in 24-48 hours

## File Naming Convention
JSON export files follow this format:
- **On-demand**: `report_YYYY-MM-DD_HHMMSS_ONDEMAND.json`
- **Scheduled**: `report_YYYY-MM-DD_HHMMSS_SCHEDULED.json`

## Usage Examples

### Export Latest Report
```bash
python -m stockometry.utils.export_reports latest
```

### Export by Date
```bash
python -m stockometry.utils.export_reports date 2024-01-15
```

### Export by ID
```bash
python -m stockometry.utils.export_reports id 123
```

### List Available Reports
```bash
python -m stockometry.utils.export_reports list
```

## Data Freshness
- **News Data**: Updated hourly
- **Market Data**: Updated daily at 1:00 AM UTC
- **NLP Processing**: Every 15 minutes
- **Full Analysis**: Daily at 2:30 AM UTC
- **Manual Runs**: On-demand via CLI or API

## Notes
- All timestamps are in UTC
- Scores range from -1.0 (extremely bearish) to +1.0 (extremely bullish)
- Confidence levels: LOW (< 0.5), MEDIUM (0.5-0.7), HIGH (> 0.7)
- Risk levels: LOW, MEDIUM, HIGH based on signal strength and market volatility
