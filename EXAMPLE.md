# Stock Analysis Bot - JSON Output Guide

This document explains the structure and meaning of the daily JSON report generated by the Stock Analysis Bot. The report is designed to be machine-readable and provides a summary of market signals derived from news analysis.

---

## Top-Level Structure

Each JSON file represents a single day's analysis and contains the following top-level fields:

| Field              | Type   | Description                                                                                             | Example Value                  |
| ------------------ | ------ | ------------------------------------------------------------------------------------------------------- | ------------------------------ |
| `report_id`        | Integer| The unique ID of the report from the database. Will be `null` if database saving is disabled.             | `42`                           |
| `report_date`      | String | The date (UTC) for which the analysis was performed, in `YYYY-MM-DD` format.                              | `"2025-08-21"`                 |
| `generated_at_utc` | String | The precise timestamp (UTC) when the report was generated, in ISO 8601 format.                            | `"2025-08-21T02:30:00.123456"`  |
| `signals`          | Object | The core of the report, containing all the analytical signals. See detailed breakdown below.              | `{...}`                        |

---

## The `signals` Object

This object contains the results of the different analysis modules. It is broken down into three types of signals:

### 1. `historical_signals`

This array identifies sectors showing a consistent sentiment trend over the **past six days**. It's useful for understanding underlying market mood.

* **`direction`** (String): The direction of the trend. Can be `"Bullish"` or `"Bearish"`.
* **`sector`** (String): The market sector exhibiting the trend.

**Example:**
```json
"historical_signals": [
  {
    "direction": "Bullish",
    "sector": "Technology"
  }
]
```
**Interpretation**: This means that for the last several days, the news sentiment related to the Technology sector has been consistently positive.

### 2. `impact_signals`

This array identifies sectors likely to be affected by specific, high-impact news events that occurred **today**. This signal is for short-term, event-driven movements.

* **`sector`** (String): The market sector likely to be impacted.
* **`direction`** (String): The predicted direction of the impact. Can be `"UP"` or `"DOWN"`.
* **`details`** (String): The reason for the alert, usually citing the title of the source news article.

**Example:**
```json
"impact_signals": [
  {
    "sector": "Energy",
    "direction": "DOWN",
    "details": "High-impact news titled 'New Global Emissions Act Ratified'"
  }
]
```
**Interpretation**: A significant news event occurred today that is predicted to have a negative impact on the Energy sector.

### 3. `confidence_signals`

This is the **most important** signal in the report. It identifies sectors where the long-term historical trend and a short-term impact event **agree**, creating a high-confidence prediction.

* **`direction`** (String): The direction of the high-confidence signal. Can be `"BULLISH"` or `"BEARISH"`.
* **`sector`** (String): The market sector for which the high-confidence signal was found.
* **`predicted_stocks`** (Array): An array of individual stock symbols within that sector that are predicted to be the primary movers.

#### `predicted_stocks` Object Structure

* **`symbol`** (String): The stock ticker symbol (e.g., "MSFT").
* **`reason`** (String): The title of the specific news article that drove the prediction for this stock.
* **`score`** (Float): The sentiment score (from -1.0 to 1.0) of the source news article. A score closer to 1.0 indicates very high positive sentiment.

**Example:**
```json
"confidence_signals": [
  {
    "direction": "BULLISH",
    "sector": "Technology",
    "predicted_stocks": [
      {
        "symbol": "MSFT",
        "reason": "Microsoft Announces Groundbreaking AI Deal",
        "score": 0.98
      }
    ]
  }
]
```
**Interpretation**: The bot has high confidence that the Technology sector will move up. This is because there was an existing positive historical trend, which was confirmed by a high-impact positive news event today. Within that sector, MSFT is predicted to be a top mover because it was the subject of a news article with a very high positive sentiment score (0.98).

---

## Full JSON Example

```json
{
    "report_id": 42,
    "report_date": "2025-08-21",
    "generated_at_utc": "2025-08-21T02:30:05.543210",
    "signals": {
        "historical_signals": [
            {
                "direction": "Bullish",
                "sector": "Technology"
            },
            {
                "direction": "Bearish",
                "sector": "Consumer Discretionary"
            }
        ],
        "impact_signals": [
            {
                "sector": "Technology",
                "direction": "UP",
                "details": "High-impact news titled 'Microsoft Announces Groundbreaking AI Deal' (Sentiment: positive @ 0.98)."
            }
        ],
        "confidence_signals": [
            {
                "direction": "BULLISH",
                "sector": "Technology",
                "predicted_stocks": [
                    {
                        "symbol": "MSFT",
                        "reason": "Microsoft Announces Groundbreaking AI Deal",
                        "score": 0.98
                    }
                ]
            }
        ]
    }
}
